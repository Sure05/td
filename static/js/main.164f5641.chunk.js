(this["webpackJsonptower-defence"]=this["webpackJsonptower-defence"]||[]).push([[0],{147:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(48),r=n.n(a),i=n(26),s=n(161),d=n(167),l=n(73),u=n(166),j=n(162),o=n(160),b=n(148),h=n(6),O=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=n.length,a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*c));return t};var p=function(e){var t=e.addElement,n=Object(c.useState)(""),a=Object(i.a)(n,2),r=a[0],s=a[1],d=Object(c.useState)(0),l=Object(i.a)(d,2),u=l[0],p=l[1],f=Object(c.useState)(0),x=Object(i.a)(f,2),m=x[0],v=x[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(j.a.Group,{widths:"equal",children:[Object(h.jsxs)(j.a.Field,{required:!0,children:[Object(h.jsx)("label",{children:"Name"}),Object(h.jsx)(o.a,{value:r,onChange:function(e,t){var n=t.value;return s(n)},fluid:!0,placeholder:"Name"})]}),Object(h.jsxs)(j.a.Field,{required:!0,children:[Object(h.jsx)("label",{children:"Distance"}),Object(h.jsx)(o.a,{value:u,onChange:function(e,t){var n=t.value;return p(parseInt(n))},type:"number",fluid:!0,placeholder:"Example: 100"})]}),Object(h.jsxs)(j.a.Field,{required:!0,children:[Object(h.jsx)("label",{children:"Speed"}),Object(h.jsx)(o.a,{value:m,onChange:function(e,t){var n=t.value;return v(parseInt(n))},fluid:!0,placeholder:"Example: 25"})]})]}),Object(h.jsx)(b.a,{onClick:function(){return function(){var e={id:O(3),name:r,distance:u,speed:m};u>0&&m>0&&t(e)}()},children:"Add bot"})]})},f=n(163);var x=function(e){var t=e.enemy,n=void 0===t?[]:t,c=e.removeElementById;return Object(h.jsx)(u.a,{children:Object(h.jsxs)(f.a,{celled:!0,children:[Object(h.jsx)(f.a.Header,{children:Object(h.jsxs)(f.a.Row,{children:[Object(h.jsx)(f.a.HeaderCell,{children:"Name"}),Object(h.jsx)(f.a.HeaderCell,{children:"Distance"}),Object(h.jsx)(f.a.HeaderCell,{children:"Speed"}),Object(h.jsx)(f.a.HeaderCell,{width:2})]})}),Object(h.jsx)(f.a.Body,{children:n.length>0?n.map((function(e){return Object(h.jsxs)(f.a.Row,{children:[Object(h.jsx)(f.a.Cell,{children:e.name}),Object(h.jsx)(f.a.Cell,{children:e.distance}),Object(h.jsx)(f.a.Cell,{children:e.speed}),Object(h.jsx)(f.a.Cell,{children:Object(h.jsx)(b.a,{onClick:function(){return c(e.id)},children:"Remove"})})]},e.id)})):""})]})})};var m=function(e){var t=e.start,n=Object(c.useState)(25),a=Object(i.a)(n,2),r=a[0],s=a[1],d=Object(c.useState)([{id:"d2p",name:"BotA",distance:100,speed:10},{id:"OIc",name:"BotB",distance:50,speed:10},{id:"Hu7",name:"BotC",distance:70,speed:10}]),O=Object(i.a)(d,2),f=O[0],m=O[1];return Object(h.jsx)(u.a,{inverted:!0,children:Object(h.jsxs)(j.a,{inverted:!0,children:[Object(h.jsxs)(j.a.Field,{children:[Object(h.jsx)("label",{children:"Tower firing range"}),Object(h.jsx)(o.a,{value:r,onChange:function(e,t){var n=t.value;return s(parseInt(n))},type:"number",placeholder:"Example: 50"})]}),Object(h.jsx)(p,{addElement:function(e){return function(e){var t=Object(l.a)(f);t.push(e),m(t)}(e)}}),Object(h.jsx)(x,{enemy:f,removeElementById:function(e){var t=Object(l.a)(f);m(t.filter((function(t){return t.id!==e})))}}),Object(h.jsx)(b.a,{onClick:function(){t({towerRange:r,enemyList:f})},disabled:0===f.length&&parseInt(r)>0,type:"submit",children:"Start"})]})})},v=n(109),g=n.n(v),w=n(120),C=n(164),y=n(110),B=!0,S=!1,E=1,H=1,I={range:55,unitList:[{id:"d2p",name:"1 BotA",distance:100,speed:10},{id:"OIc",name:"2 BotB",distance:50,speed:20},{id:"Hu7",name:"3 BotC",distance:30,speed:20},{id:"Hu73",name:"4 BotD",distance:200,speed:45},{id:"Hu74",name:"5 BotE",distance:160,speed:25},{id:"Hu74",name:"6 BotE",distance:120,speed:35}]},k=[],L=[],R=function(e){B=!0,H=1,E=1,L=(I=e).unitList},F=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e)return t&&(k=[]),R(e),q(),k},q=function(){B&&(L.length>0&&(D(),A()),N())},A=function(){var e=L.sort((function(e,t){return e.distance/e.speed<t.distance/t.speed?-1:e.distance/e.speed>t.distance/t.speed?1:e.distance-t.distance}));if(e.length>0){var t=e[0];t.distance<I.range&&(e.splice(0,1),k.push("Step ".concat(E,": Kill ").concat(t.name," at ").concat(t.distance,"m"))),L=e}},D=function(){L=Object(l.a)(L).map((function(e){return e.distance-e.speed<=0&&(B=!1,k.push("Step ".concat(E,": ").concat(e.name," kill tower"))),Object(y.a)(Object(y.a)({},e),{},{distance:e.distance-e.speed})}))},N=function(){0===L.length&&(B=!1),!1===B?L.length>0?(k.push("loose, calculate new range"),J()):(k.push("win"),S&&k.push("you can win with range: ".concat(I.range))):(E++,q())},J=function(){H>200?console.log("can't win this enemy"):(H++,S=!0,I.range++,L=I.unitList,E=1,B=!0,F(I,!1))};var M=function(e){var t=e.options,n=Object(c.useState)([]),a=Object(i.a)(n,2),r=a[0],s=a[1],d=t.enemyList,l=t.towerRange;return Object(c.useEffect)((function(){function e(){return(e=Object(w.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F({range:l,unitList:d}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s([]),d.length>0&&function(){return e.apply(this,arguments)}().then((function(e){s(e)}))}),[t]),Object(h.jsx)("div",{children:Object(h.jsx)(C.a,{children:r.length>0?r.map((function(e,t){return Object(h.jsx)(C.a.Item,{children:e},t)})):""})})};var G=function(){var e=Object(c.useState)({towerRange:null,enemyList:[]}),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(h.jsx)(s.a,{children:Object(h.jsx)(d.a,{children:Object(h.jsxs)(d.a.Row,{columns:2,children:[Object(h.jsx)(d.a.Column,{width:5,children:Object(h.jsx)(M,{options:n})}),Object(h.jsx)(d.a.Column,{width:11,children:Object(h.jsx)(m,{start:function(e){a(e)}})})]})})})};n(146);r.a.render(Object(h.jsx)(G,{}),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.164f5641.chunk.js.map